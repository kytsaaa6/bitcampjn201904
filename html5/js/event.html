<!DOCTYPE html>


<html>
    <head>
    <title>자바스크립트의 이벤트 처리</title>


</head>

<body>
    <h1 id="title">자바스크립트의 이벤트 처리</h1>
    <input type="text" id="msg" placeholder="메시지를 입력해주세요." value="test">
    <button id="btn">텍스트 변경</button>

   
    <!-- 태그에 직접 이벤트 정의 -->
    <input type="button" id="btn00" value="버튼-인라인방식 이벤트처리" ondblclick="f1();">
   
    <input type="button" id="delBtn" value="삭제" onclick="delMsg(1);">
   
    <h2 id="text"></h2>
    
    <form id="loginform" action="http://www.naver.com">
        아이디 <input type="text" id="uId"> <br>
        이메일 <input type="email"> <br>
        비밀번호 <input type="password" id="uPw"> <br>
        이용약관 동의 <input type="checkbox" id="chk"> <br>
        <input type="submit" value="로그인">
        
    </form>
    

    <script>
        
        // 로그인폼 캐스팅
        var loginform = document.getElementById('loginform');
        
        // submit 눌렀을때의 함수 정의
        loginform.onsubmit = function() {
            
            // input id,pw 캐스팅
            var uId = document.getElementById('uId');
            var uPw = document.getElementById('uPw');
            var chk = document.getElementById('chk');
            
            // checkbox,id,pw 값에 대한 if 유효성 검사 
            if(!chk.checked){
                alert('이용약관에 동의해주세요.');
                //chk.focus(); 체크박스는 포커스 적용 안됨
                return false;
            }    
            if(uId.value.length<1){
                alert('아이디를 입력해주세요.');
                uId.focus();
                return false;
            }
            if(uPw.value.length<1){
                alert('비밀번호를 입력해주세요.');
                uPw.focus();
                return false;
            }
            
            return true;
            
        }
        
        function delMsg(index) {
            var result = confirm('정말 삭제하시겠습니까?');
            
            if(result) {
                alert(index + '번 메시지를 삭제합니다.');
            }
        }
        
        function f1() {
            var message = '안녕하세요.';
            alert(message);
        }
        
        
        window.onload = function() {
           
            var cnt = 0;
            
            // 버튼 캐스팅(문서객체로 변환)
            var btn = document.getElementById('btn');
            
            // 이벤트 적용 : 버튼에 이벤트 속성에 함수로 등록
            btn.onclick = function(e) {
                
                var event = e || window.event;
                
                var text = document.getElementById('text');
                
                for(var key in event) {
                    //text.innerHTML += key+' : '+event[key]+'<br>';
                }
                
                // this는 이벤트가 발생한 객체를 가르킨다.
                this.style.color='red';
                
                //alert('클릭했다');
                
                var title = document.getElementById('title');
                //alert(title.innerHTML);
                
                var msgString = document.getElementById('msg').value;
                
                title.innerHTML += '<br> ' + msgString + cnt + '<input type="button" id="delBtn" value="삭제'+cnt+' "onclick="delMsg('+cnt++ +');">';
                
                inputMsg.focus();

            };
            
            var inputMsg = document.getElementById('msg');
            
            inputMsg.onfocus = function(){
                
                // 포커스가 들어가면 value값을 공백으로 변경
                this.value='';
                
                //var msgstr = this.value;
                //alert('input focus Event : this.value = ' + msgstr);
                //inputMsg.onfocus = null;
            };
            
        };
    </script>
</body></html>